{
  "5c663278-10f2-4257-ae2b-27c85bb1a80b": {
    "id": "5c663278-10f2-4257-ae2b-27c85bb1a80b",
    "class": "Sequence",
    "name": "Root",
    "assetPack": "core",
    "options": {
      "name": "Root",
      "id": "5c663278-10f2-4257-ae2b-27c85bb1a80b",
      "layout": {
        "x": 410,
        "y": 70
      }
    },
    "layout": {
      "x": 410,
      "y": 70
    },
    "decorators": [],
    "children": [
      "a21b7208-c19d-4db6-87df-f2a3e6a36087",
      "d3b2ccc1-bd6f-450b-a8fe-d62b5de8a368"
    ]
  },
  "a21b7208-c19d-4db6-87df-f2a3e6a36087": {
    "id": "a21b7208-c19d-4db6-87df-f2a3e6a36087",
    "class": "ExecuteScript",
    "name": "Init",
    "assetPack": "core",
    "options": {
      "name": "Init",
      "exec": [
        "() => {",
        "          notepad.vCooldownTime = 500;",
        "          notepad.hCooldownTime = 200;",
        "          notepad.tCooldownTime = 200;",
        "          const padCenter = blackboard.controller.landingPadRect.x + blackboard.controller.landingPadRect.width / 2;",
        "          const padY = blackboard.controller.landingPadRect.y;",
        "          notepad.target = {",
        "            x: padCenter,",
        "            y: padY,",
        "            velocity: {",
        "              x: 0,",
        "              y: 0",
        "            }",
        "          };",
        "          console.log('Init.', blackboard, notepad, result);",
        "          console.log(`target: (${notepad.target.x}, ${notepad.target.y}) <${notepad.target.velocity.x}, ${notepad.target.velocity.y}>`);",
        "        }"
      ],
      "id": "a21b7208-c19d-4db6-87df-f2a3e6a36087",
      "layout": {
        "x": 318,
        "y": 218
      }
    },
    "layout": {
      "x": 318,
      "y": 218
    },
    "parent": "5c663278-10f2-4257-ae2b-27c85bb1a80b",
    "decorators": []
  },
  "d3b2ccc1-bd6f-450b-a8fe-d62b5de8a368": {
    "id": "d3b2ccc1-bd6f-450b-a8fe-d62b5de8a368",
    "class": "Parallel",
    "name": "Flight",
    "assetPack": "core",
    "options": {
      "name": "Flight",
      "succeedOnOne": false,
      "id": "d3b2ccc1-bd6f-450b-a8fe-d62b5de8a368",
      "layout": {
        "x": 510,
        "y": 219
      }
    },
    "layout": {
      "x": 510,
      "y": 219
    },
    "parent": "5c663278-10f2-4257-ae2b-27c85bb1a80b",
    "decorators": [
      "1eb4d866-2672-4806-9b8d-d0e34ccd0833"
    ],
    "children": [
      "ff0bfe70-05f2-4d39-966a-e6bc07b2f16c",
      "db6ebc20-f277-4f62-8ea5-5bf7340ac756",
      "c37510fd-3f7b-49b8-8d3b-c2d39b78aad1"
    ]
  },
  "ff0bfe70-05f2-4d39-966a-e6bc07b2f16c": {
    "id": "ff0bfe70-05f2-4d39-966a-e6bc07b2f16c",
    "class": "Sequence",
    "name": "Vertical",
    "assetPack": "core",
    "options": {
      "name": "Vertical",
      "id": "ff0bfe70-05f2-4d39-966a-e6bc07b2f16c",
      "layout": {
        "x": 312,
        "y": 384
      }
    },
    "layout": {
      "x": 312,
      "y": 384
    },
    "parent": "d3b2ccc1-bd6f-450b-a8fe-d62b5de8a368",
    "decorators": [
      "dda7e6b6-e40b-46f2-8c49-be24016d62aa"
    ],
    "children": [
      "99d8fe74-b456-4ef0-9054-cfc9c88e3be3",
      "ac0168f1-a455-4377-8d79-ef42b45e02cc",
      "4dbd2b2a-21ee-47d6-93c6-3b457e8d5337"
    ]
  },
  "99d8fe74-b456-4ef0-9054-cfc9c88e3be3": {
    "id": "99d8fe74-b456-4ef0-9054-cfc9c88e3be3",
    "class": "TimeoutJs",
    "name": "VCooldown",
    "assetPack": "core",
    "options": {
      "name": "VCooldown",
      "getTime": [
        "() => notepad.vCooldownTime"
      ],
      "id": "99d8fe74-b456-4ef0-9054-cfc9c88e3be3",
      "layout": {
        "x": 88,
        "y": 549
      }
    },
    "layout": {
      "x": 88,
      "y": 549
    },
    "parent": "ff0bfe70-05f2-4d39-966a-e6bc07b2f16c",
    "decorators": []
  },
  "ac0168f1-a455-4377-8d79-ef42b45e02cc": {
    "id": "ac0168f1-a455-4377-8d79-ef42b45e02cc",
    "class": "ExecuteScript",
    "name": "VThrustOn",
    "assetPack": "core",
    "options": {
      "name": "VThrustOn",
      "exec": [
        "() => {",
        "          console.log(`VThrustOn`);",
        "          blackboard.keys.ArrowUp = 'down';",
        "        }"
      ],
      "id": "ac0168f1-a455-4377-8d79-ef42b45e02cc",
      "layout": {
        "x": 254,
        "y": 551
      }
    },
    "layout": {
      "x": 254,
      "y": 551
    },
    "parent": "ff0bfe70-05f2-4d39-966a-e6bc07b2f16c",
    "decorators": [
      "7d9c2ef7-cbbe-423c-b6a8-b329ec48db20"
    ]
  },
  "4dbd2b2a-21ee-47d6-93c6-3b457e8d5337": {
    "id": "4dbd2b2a-21ee-47d6-93c6-3b457e8d5337",
    "class": "ExecuteScript",
    "name": "VThrustOff",
    "assetPack": "core",
    "options": {
      "name": "VThrustOff",
      "exec": [
        "() => {",
        "          // console.log(`VThrustOff`, blackboard);",
        "          blackboard.keys.ArrowUp = 'up';",
        "        }"
      ],
      "id": "4dbd2b2a-21ee-47d6-93c6-3b457e8d5337",
      "layout": {
        "x": 421,
        "y": 551
      }
    },
    "layout": {
      "x": 421,
      "y": 551
    },
    "parent": "ff0bfe70-05f2-4d39-966a-e6bc07b2f16c",
    "decorators": []
  },
  "db6ebc20-f277-4f62-8ea5-5bf7340ac756": {
    "id": "db6ebc20-f277-4f62-8ea5-5bf7340ac756",
    "class": "Sequence",
    "name": "Horizontal",
    "assetPack": "core",
    "options": {
      "name": "Horizontal",
      "id": "db6ebc20-f277-4f62-8ea5-5bf7340ac756",
      "layout": {
        "x": 523,
        "y": 410
      }
    },
    "layout": {
      "x": 523,
      "y": 410
    },
    "parent": "d3b2ccc1-bd6f-450b-a8fe-d62b5de8a368",
    "decorators": [
      "cdddafaa-a5be-4c68-9011-b1e3bede5f73"
    ],
    "children": [
      "6927b270-3494-4808-816a-f20a8f8ee11a",
      "a006cc01-a249-47b4-a9a9-51554b66ec07",
      "1f813ac3-f2e5-4ed7-a13c-8a58206340dd"
    ]
  },
  "6927b270-3494-4808-816a-f20a8f8ee11a": {
    "id": "6927b270-3494-4808-816a-f20a8f8ee11a",
    "class": "TimeoutJs",
    "name": "HCooldown",
    "assetPack": "core",
    "options": {
      "name": "HCooldown",
      "getTime": [
        "() => notepad.hCooldownTime"
      ],
      "id": "6927b270-3494-4808-816a-f20a8f8ee11a",
      "layout": {
        "x": 606,
        "y": 702
      }
    },
    "layout": {
      "x": 606,
      "y": 702
    },
    "parent": "db6ebc20-f277-4f62-8ea5-5bf7340ac756",
    "decorators": []
  },
  "a006cc01-a249-47b4-a9a9-51554b66ec07": {
    "id": "a006cc01-a249-47b4-a9a9-51554b66ec07",
    "class": "ExecuteScript",
    "name": "HThrustOn",
    "assetPack": "core",
    "options": {
      "name": "HThrustOn",
      "exec": [
        "() => {",
        "          // console.log(`HThrustOn`, blackboard);",
        "          const xVel = blackboard.controller.shipVelocity.x;",
        "          const xVelTarget = notepad.target.velocity.x;",
        "",
        "          if (xVel > xVelTarget) {",
        "            blackboard.keys.ArrowLeft = 'down';",
        "          } else if (xVel < xVelTarget) {",
        "            blackboard.keys.ArrowRight = 'down';",
        "          }",
        "        }"
      ],
      "id": "a006cc01-a249-47b4-a9a9-51554b66ec07",
      "layout": {
        "x": 770,
        "y": 700
      }
    },
    "layout": {
      "x": 770,
      "y": 700
    },
    "parent": "db6ebc20-f277-4f62-8ea5-5bf7340ac756",
    "decorators": [
      "36da6b7c-3de9-4e81-af59-e932ed7d4cbd"
    ]
  },
  "1f813ac3-f2e5-4ed7-a13c-8a58206340dd": {
    "id": "1f813ac3-f2e5-4ed7-a13c-8a58206340dd",
    "class": "ExecuteScript",
    "name": "HThrustOff",
    "assetPack": "core",
    "options": {
      "name": "HThrustOff",
      "exec": [
        "() => {",
        "          // console.log(`HThrustOff`, blackboard);",
        "          blackboard.keys.ArrowLeft = 'up';",
        "          blackboard.keys.ArrowRight = 'up';",
        "        }"
      ],
      "id": "1f813ac3-f2e5-4ed7-a13c-8a58206340dd",
      "layout": {
        "x": 939,
        "y": 698
      }
    },
    "layout": {
      "x": 939,
      "y": 698
    },
    "parent": "db6ebc20-f277-4f62-8ea5-5bf7340ac756",
    "decorators": []
  },
  "c37510fd-3f7b-49b8-8d3b-c2d39b78aad1": {
    "id": "c37510fd-3f7b-49b8-8d3b-c2d39b78aad1",
    "class": "Sequence",
    "name": "Target",
    "assetPack": "core",
    "options": {
      "name": "Target",
      "id": "c37510fd-3f7b-49b8-8d3b-c2d39b78aad1",
      "layout": {
        "x": 830,
        "y": 322
      }
    },
    "layout": {
      "x": 830,
      "y": 322
    },
    "parent": "d3b2ccc1-bd6f-450b-a8fe-d62b5de8a368",
    "decorators": [
      "a3a67154-59df-44d5-9213-3b46cec09bcf"
    ],
    "children": [
      "eea4549b-461b-4adb-9ec2-1d449cfc08d5",
      "5e7005b5-b1f0-4a2a-ba6c-2f95cf8808be"
    ]
  },
  "eea4549b-461b-4adb-9ec2-1d449cfc08d5": {
    "id": "eea4549b-461b-4adb-9ec2-1d449cfc08d5",
    "class": "TimeoutJs",
    "name": "TCooldown",
    "assetPack": "core",
    "options": {
      "name": "TCooldown",
      "getTime": [
        "() => notepad.tCooldownTime"
      ],
      "id": "eea4549b-461b-4adb-9ec2-1d449cfc08d5",
      "layout": {
        "x": 729,
        "y": 504
      }
    },
    "layout": {
      "x": 729,
      "y": 504
    },
    "parent": "c37510fd-3f7b-49b8-8d3b-c2d39b78aad1",
    "decorators": []
  },
  "5e7005b5-b1f0-4a2a-ba6c-2f95cf8808be": {
    "id": "5e7005b5-b1f0-4a2a-ba6c-2f95cf8808be",
    "class": "ExecuteScript",
    "name": "AdjustTarget",
    "assetPack": "core",
    "options": {
      "name": "AdjustTarget",
      "exec": [
        "() => {",
        "          const padCenter = blackboard.controller.landingPadRect.x + blackboard.controller.landingPadRect.width / 2;",
        "          const padY = blackboard.controller.landingPadRect.y;",
        "          const shipX = blackboard.controller.shipCoords.x + 20;",
        "          const hOffset = padCenter - shipX;",
        "          notepad.target.x = padCenter;",
        "          notepad.target.y = padY;",
        "",
        "          if (padY - blackboard.controller.shipCoords.y > 20) {",
        "            // set target higher at first",
        "            notepad.target.y = padY - 20;",
        "          }",
        "",
        "          notepad.target.velocity.x = hOffset / 50;",
        "          console.log(`target: (${notepad.target.x}, ${notepad.target.y}) <${notepad.target.velocity.x}, ${notepad.target.velocity.y}>`);",
        "          const shipAltitude = notepad.target.y - blackboard.controller.shipCoords.y;",
        "          notepad.target.velocity.y = -10;",
        "",
        "          if (shipAltitude < blackboard.controller.world.height / 2) {",
        "            notepad.target.velocity.y = -3;",
        "          }",
        "",
        "          if (shipAltitude < 60 && Math.abs(hOffset) > 70) {",
        "            notepad.target.velocity.y = 3;",
        "          } else if (shipAltitude < 20) {",
        "            notepad.target.velocity.y = 0;",
        "          }",
        "",
        "          notepad.hCooldownTime = shipAltitude / 2;",
        "          notepad.vCooldownTime = shipAltitude / 3;",
        "          notepad.tCooldownTime = shipAltitude / 3;",
        "          console.log(`  vCool: ${notepad.vCooldownTime}: hCool: ${notepad.hCooldownTime} `);",
        "        }"
      ],
      "id": "5e7005b5-b1f0-4a2a-ba6c-2f95cf8808be",
      "layout": {
        "x": 931,
        "y": 499
      }
    },
    "layout": {
      "x": 931,
      "y": 499
    },
    "parent": "c37510fd-3f7b-49b8-8d3b-c2d39b78aad1",
    "decorators": []
  },
  "1eb4d866-2672-4806-9b8d-d0e34ccd0833": {
    "id": "1eb4d866-2672-4806-9b8d-d0e34ccd0833",
    "class": "WhileCondition",
    "name": "FlightLoop",
    "assetPack": "core",
    "options": {
      "name": "FlightLoop",
      "init": [
        "() => {}"
      ],
      "conditional": [
        "() => {",
        "          return true;",
        "        }"
      ],
      "id": "1eb4d866-2672-4806-9b8d-d0e34ccd0833"
    }
  },
  "7d9c2ef7-cbbe-423c-b6a8-b329ec48db20": {
    "id": "7d9c2ef7-cbbe-423c-b6a8-b329ec48db20",
    "class": "WhileCondition",
    "name": "VThrustHold",
    "assetPack": "core",
    "options": {
      "name": "VThrustHold",
      "init": [
        "() => {}"
      ],
      "conditional": [
        "() => {",
        "          let hold = false;",
        "          const vShip = blackboard.controller.shipVelocity.y;",
        "          const vTarget = notepad.target.velocity.y;",
        "",
        "          if (vShip < vTarget) {",
        "            // console.log(`velocity too high: ${blackboard.controller.shipVelocity.y} holding.`);",
        "            hold = true;",
        "          }",
        "",
        "          console.log(`  VThrustHold: ${hold}: ${vShip} ${vTarget}`);",
        "          return hold;",
        "        }"
      ],
      "id": "7d9c2ef7-cbbe-423c-b6a8-b329ec48db20"
    }
  },
  "36da6b7c-3de9-4e81-af59-e932ed7d4cbd": {
    "id": "36da6b7c-3de9-4e81-af59-e932ed7d4cbd",
    "class": "WhileCondition",
    "name": "HThrustHold",
    "assetPack": "core",
    "options": {
      "name": "HThrustHold",
      "init": [
        "() => {",
        "          notepad.HThrustStart = Date.now();",
        "        }"
      ],
      "conditional": [
        "() => {",
        "          let hold = false; // const elapsed = Date.now() - notepad.HThrustStart;",
        "          // if (elapsed < 50) {",
        "          //     hold = true;",
        "          // }",
        "",
        "          const velocityOffset = blackboard.controller.shipVelocity.x - notepad.target.velocity.x;",
        "",
        "          if (Math.abs(velocityOffset) > 1) {",
        "            hold = true;",
        "          }",
        "",
        "          return hold;",
        "        }"
      ],
      "id": "36da6b7c-3de9-4e81-af59-e932ed7d4cbd"
    }
  },
  "dda7e6b6-e40b-46f2-8c49-be24016d62aa": {
    "id": "dda7e6b6-e40b-46f2-8c49-be24016d62aa",
    "class": "WhileCondition",
    "name": "vLoop",
    "asset-pack": "core",
    "options": {
      "init": [
        "() => {",
        "}"
      ],
      "conditional": [
        "() => {",
        "  return true;",
        "}"
      ],
      "name": "vLoop",
      "id": "dda7e6b6-e40b-46f2-8c49-be24016d62aa"
    }
  },
  "cdddafaa-a5be-4c68-9011-b1e3bede5f73": {
    "id": "cdddafaa-a5be-4c68-9011-b1e3bede5f73",
    "class": "WhileCondition",
    "name": "hLoop",
    "asset-pack": "core",
    "options": {
      "init": [
        "() => {",
        "}"
      ],
      "conditional": [
        "() => {",
        "  return true;",
        "}"
      ],
      "name": "hLoop",
      "id": "cdddafaa-a5be-4c68-9011-b1e3bede5f73"
    }
  },
  "a3a67154-59df-44d5-9213-3b46cec09bcf": {
    "id": "a3a67154-59df-44d5-9213-3b46cec09bcf",
    "class": "WhileCondition",
    "name": "tLoop",
    "asset-pack": "core",
    "options": {
      "init": [
        "() => {",
        "}"
      ],
      "conditional": [
        "() => {",
        "  return true;",
        "}"
      ],
      "name": "tLoop",
      "id": "a3a67154-59df-44d5-9213-3b46cec09bcf"
    }
  },
  "meta": {
    "version": 1
  }
}
